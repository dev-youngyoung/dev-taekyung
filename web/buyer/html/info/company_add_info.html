<form novalidate name="form1" method="post" onsubmit="return formSubmit(this);">
	<div class="div_table">
		<div class="util-row">
			<div class="push-left">
				<h3>기본정보</h3>
			</div>
		</div>
		<table>
		  <colgroup>
			<col width="17%">
			<col width="33%">
			<col width="17%">
			<col width="33%">
		  </colgroup>
		  <tr>
			<th>업체명</th>
			<td>{{member.member_name}}</td>
			<th>대표자명</th>
			<td>{{member.boss_name}}</td>
		  </tr>
		  <tr>
			<th>우편물 수신주소</th>
			<td colspan="3"><input type="text" name="post_address" style="width:95%" maxlength="100" value="{{memberAdd.post_address}}" class="input_n" hname="우편물 수신주소" required="Y"><br>
			<span class="caution-text">(※ 각종 우편물은 해당 주소로 발송되며. 주소 오류로 인한 손해에 대해서는 책임지지 않습니다.)</span></td>
		</table>
		<div class="util-row">
			<div class="push-right">
				<button type="button" class="sbtn color ico-add" onClick="majorCustAdd();"><span></span>추가</button>
			</div>
		</div>
		<table id="major_cust_grid">
			<colgroup>
				<col width="65%"/>
				<col width="20%"/>
				<col width="15%"/>
			</colgroup>
			<thead>
			<tr>
				<th>고객사명</th>
				<th>매출액</th>
				<th>삭제</th>
			</tr>
			</thead>
			<tbody>
			<!-- IF START 'major_cust' -->
			<!-- LOOP START 'major_cust' -->
			<tr>
				<td align="center"><input type="text" name="major_cust_name" class="input_n" style="width:98%" value="{{major_cust.cust_name}}" hname="고객사명" required="Y"></td>
				<td align="center"><input type="text" name="major_sales" class="input_n" size="4" style="text-align:right;ime-mode:disabled" onKeyDown="num_only()" onKeyUp="fnMakeComma();" value="{{major_cust.sales}}" hname="매출액" required="Y">억원</td>
				<td align="center">
					<button type="button" class="sbtn color ico-add" onClick="majorCustDel();">삭제</button>
				</td>
			</tr>
			<!-- LOOP END 'major_cust' -->
			<!-- IF END 'major_cust' -->

			<!-- IFNOT START 'major_cust' -->
			<tr>
				<td align="center"><input type="text" name="major_cust_name" class="input_n" style="width:98%" value="{{major_cust.cust_name}}" hname="고객사명" required="Y"></td>
				<td align="center"><input type="text" name="major_sales" class="input_n" size="4" style="text-align:right;ime-mode:disabled" onKeyDown="num_only()" onKeyUp="fnMakeComma();" value="{{major_cust.sales}}" hname="매출액" required="Y">억원</td>
				<td align="center">
					<button type="button" class="sbtn color ico-add" onClick="majorCustDel(this);">삭제</button>
				</td>
			</tr>
			<!-- IFNOT END 'major_cust' -->
			</tbody>
		</table>
	</div>

	<div class="div_table">
		<div class="util-row">
			<div class="push-left">
				<h3>전문취급물자<span>(※ 전문 취급물자 3개 선택)</span></h3>
			</div>
		</div>
		<table>
			<tr>
			  <td colspan="2">
				<!-- LOOP START 'code_material' -->
				<input type="checkbox" name="meterial_cd" value="{{code_material.id}}">{{code_material.value}}
				<!-- LOOP END 'code_material' -->
			  </td>
			</tr>
		</table>
	</div>

	<table width="100%" border="0" cellspacing="0" cellpadding="0">
		<tr>
			<td width="49%" valign="top">
				<div class="div_table">
					<div class="util-row">
						<div class="push-left">
							<h3>보유 차량 대수<span>(※ 보유중인 차량 정보)</span></h3>
						</div>
						<div class="push-right">
							<button type="button" class="sbtn color ico-add" onClick="carAdd1();"><span></span>추가</button>
						</div>
					</div>
					<table id="car_grid1">
						<colgroup>
							<col width="45%"/>
							<col width="20%"/>
							<col width="20%"/>
							<col width="15%"/>
						</colgroup>
						<thead>
						<tr>
							<th>차종</th>
							<th>톤급</th>
							<th>차량수</th>
							<th>삭제</th>
						</tr>
						</thead>
						<tbody>
						<!-- IF START 'car1' -->
						<!-- LOOP START 'car1' -->
						<tr>
							<td align="center">
								<select name="car_cd1" id="car_cd1_{{car1.seq}}" required="Y" hname="차종">
									<option value="">-선택-</option>
									<!-- LOOP START 'code_car' -->
									<option value="{{code_car.id}}">{{code_car.value}}</option>
									<!-- LOOP END 'code_car' -->
								</select>
								<script>document.getElementById("car_cd1_{{car1.seq}}").value="{{car1.car_cd}}";</script>
							</td>
							<td align="center">
								<select name="weight_cd1" id="weight_cd1_{{car1.seq}}" required="Y" hname="톤급">
									<option value="">-선택-</option>
									<!-- LOOP START 'code_weight' -->
									<option value="{{code_weight.id}}">{{code_weight.value}}</option>
									<!-- LOOP END 'code_weight' -->
								</select>
								<script>document.getElementById("weight_cd1_{{car1.seq}}").value="{{car1.weight_cd}}";</script>
							</td>
							<td align="center"><input type="text" name="car_num1" class="input_n" size="4" style="text-align:right;ime-mode:disabled" onKeyDown="num_only()" onKeyUp="fnMakeComma();" value="{{car1.car_num1}}" hname="차량수" required="Y"></td>
							<td align="center">
								<button type="button" class="sbtn color" onClick="carDel1(this);">삭제</button>
							</td>
						</tr>
						<!-- LOOP END 'car1' -->
						<!-- IF END 'car1' -->

						<!-- IFNOT START 'car1' -->
						<tr>
							<td align="center">
								<select name="car_cd1" id="car_cd1_1" required="Y" hname="차종">
									<option value="">-선택-</option>
									<!-- LOOP START 'code_car' -->
									<option value="{{code_car.id}}">{{code_car.value}}</option>
									<!-- LOOP END 'code_car' -->
								</select>
							</td>
							<td align="center">
								<select name="weight_cd1" id="weight_cd1_1" required="Y" hname="톤급">
									<option value="">-선택-</option>
									<!-- LOOP START 'code_weight' -->
									<option value="{{code_weight.id}}">{{code_weight.value}}</option>
									<!-- LOOP END 'code_weight' -->
								</select>
							</td>
							<td align="center"><input type="text" name="car_num1" class="input_n" size="4" style="text-align:right;ime-mode:disabled" onKeyDown="num_only()" onKeyUp="fnMakeComma();" hname="차량수" required="Y"></td>
							<td align="center">
								<button type="button" class="sbtn color" onClick="carDel1(this);">삭제</button>
							</td>
						</tr>
						<!-- IFNOT END 'car1' -->
						</tbody>
					</table>
				</div>
			</td>
			<td width="2%"></td>
			<td width="49%" valign="top">
				<div class="div_table">
					<div class="util-row">
						<div class="push-left">
							<h3>일 최대 운영 가능 대수<span>(※ 파트너십 기반 동원)</span></h3>
						</div>
						<div class="push-right">
							<button type="button" class="sbtn color ico-add" onClick="carAdd2();"><span></span>추가</button>
						</div>
					</div>
					<table id="car_grid2">
						<colgroup>
							<col width="45%"/>
							<col width="20%"/>
							<col width="20%"/>
							<col width="15%"/>
						</colgroup>
						<thead>
						<tr>
							<th>차종</th>
							<th>톤급</th>
							<th>차량수</th>
							<th>삭제</th>
						</tr>
						</thead>
						<tbody>
						<!-- IF START 'car2' -->
						<!-- LOOP START 'car2' -->
						<tr>
							<td align="center">
								<select name="car_cd2" id="car_cd2_{{car2.seq}}" required="Y" hname="차종">
									<option value="">-선택-</option>
									<!-- LOOP START 'code_car' -->
									<option value="{{code_car.id}}">{{code_car.value}}</option>
									<!-- LOOP END 'code_car' -->
								</select>
								<script>document.getElementById("car_cd2_{{car2.seq}}").value="{{car2.car_cd}}";</script>
							</td>
							<td align="center">
								<select name="weight_cd2" id="weight_cd2_{{car2.seq}}" required="Y" hname="톤급">
									<option value="">-선택-</option>
									<!-- LOOP START 'code_weight' -->
									<option value="{{code_weight.id}}">{{code_weight.value}}</option>
									<!-- LOOP END 'code_weight' -->
								</select>
								<script>document.getElementById("weight_cd2_{{car2.seq}}").value="{{car2.weight_cd}}";</script>
							</td>
							<td align="center"><input type="text" name="car_num2" class="input_n" size="4" style="text-align:right;ime-mode:disabled" onKeyDown="num_only()" onKeyUp="fnMakeComma();" value="{{car2.car_num2}}" hname="차량수" required="Y"></td>
							<td align="center">
								<button type="button" class="sbtn color" onClick="carDel2(this);">삭제</button>
							</td>
						</tr>
						<!-- LOOP END 'car2' -->
						<!-- IF END 'car2' -->

						<!-- IFNOT START 'car2' -->
						<tr>
							<td align="center">
								<select name="car_cd2" id="car_cd2_1" required="Y" hname="차종">
									<option value="">-선택-</option>
									<!-- LOOP START 'code_car' -->
									<option value="{{code_car.id}}">{{code_car.value}}</option>
									<!-- LOOP END 'code_car' -->
								</select>
							</td>
							<td align="center">
								<select name="weight_cd2" id="weight_cd2_1" required="Y" hname="톤급">
									<option value="">-선택-</option>
									<!-- LOOP START 'code_weight' -->
									<option value="{{code_weight.id}}">{{code_weight.value}}</option>
									<!-- LOOP END 'code_weight' -->
								</select>
							</td>
							<td align="center"><input type="text" name="car_num2" class="input_n" size="4" style="text-align:right;ime-mode:disabled" onKeyDown="num_only()" onKeyUp="fnMakeComma();" hname="차량수" required="Y"></td>
							<td align="center">
								<button type="button" class="sbtn color" onClick="carDel2(this);">삭제</button>
							</td>
						</tr>
						<!-- IFNOT END 'car2' -->
						</tbody>
					</table>
				</div>
			</td>
		</tr>
	</table>
	<div class="div_table">
		<div class="util-row">
			<div class="push-left">
				<h3>보증현황<span>(※ 자동차보험, 적재물보험, 상해보험, 보증보험, 주선적재물배상책임보험 등록)</span></h3>
			</div>
			<div class="push-right">
				<button type="button" class="sbtn color ico-add" onClick="infoWarrAdd();"><span></span>추가</button>
			</div>
		</div>
		<table id="warr_grid">
			<colgroup>
				<col width="10%">
				<col width="15%">
				<col width="14%">
				<col width="14%">
				<col width="18%">
				<col width="10%">
				<col width="10%">
			</colgroup>
			<thead>
			<tr class="ltitle">
				<td>보증서종류</td>
				<td>발급기관</td>
				<td>증권번호</td>
				<td>발급일자</td>
				<td>보증기간</td>
				<td>보증금액</td>
				<td>조회</td>
			</tr>
			</thead>
			<tbody>
			<!-- LOOP START 'warr' -->
				<!-- IF START 'warr.warr_no' -->
				<tr>
				<td align="center">{{warr.warr_type}}</td>
				<td align="center">{{warr.warr_office}}</td>
				<td align="center">{{warr.warr_no}}</td>
				<td align="center">{{warr.warr_date}}</td>
				<td align="center">{{warr.warr_sdate}} ~ {{warr.warr_edate}}</td>
				<td align="right">￦{{warr.warr_amt}}</td>
				<td align="center">
					<button type="button" class="sbtn color" onclick="infoWarr('{{warr.member_no}}','{{warr.warr_seq}}' )">조회</button>
				</td>
			</tr>
				<!-- IF END 'warr.warr_no' -->
			<!-- LOOP END 'warr' -->
			</tbody>
		</table>
	</div>

	<div class="div_table">
		<div class="util-row">
			<div class="push-left">
				<h3>인허가현황<span>(※ 운송사업허가증, 주선사업허가증, 기타 보유 인허가  등록)</span></h3>
			</div>
			<div class="push-right">
				<button type="button" class="sbtn color ico-add" onClick="infoCertAdd();"><span></span>추가</button>
			</div>
		</div>

		<table id="cert_grid">
			<colgroup>
				<col width="30%">
				<col width="20%">
				<col width="20%">
				<col width="20%">
				<col width="10%">
			</colgroup>
			<thead>
			<tr class="ltitle">
				<td>인허가명</td>
				<td>등록(허가)번호</td>
				<td>유효기간</td>
				<td>관련기관</td>
				<td>조회</td>
			</tr>
			</thead>
			<tbody>
			<!-- LOOP START 'cert' -->
				<!-- IF START 'cert.cert_no' -->
			<tr>
				<td align="center">{{cert.cert_name}}</td>
				<td align="center">{{cert.cert_no}}</td>
				<td align="center">{{cert.cert_sdate}} ~ {{cert.cert_edate}}</td>
				<td align="center">{{cert.cert_org}}</td>
				<td align="center">
					<button type="button" class="sbtn color" onclick="infoCert('{{cert.member_no}}','{{cert.cert_seq}}' )">조회</button>
				</td>
			</tr>
				<!-- IF END 'cert.cert_no' -->
			<!-- LOOP END 'cert' -->
			</tbody>
		</table>
	</div>
	<div class="btn-group-wrap">
		<button type="submit" name="btn_save" class="btn color ico-save"><span></span>저장</button>
	</div>
</form>
{{form_script}}

<table width="100%" border="0" cellspacing="0" cellpadding="0" id="major_cust_template" style="display:none">
	<tr>
		<td align="center"><input type="text" name="major_cust_name" class="input_n" style="width:100%" hname="고객사명" required="Y"></td>
		<td align="center"><input type="text" name="major_sales" class="input_n" size="4" style="text-align:right;ime-mode:disabled" onKeyDown="num_only()" onKeyUp="fnMakeComma();" hname="매출액" required="Y">억원</td>
		<td align="center">
			<button type="button" class="sbtn color" onClick="majorCustDel(this);">삭제</button>
		</td>
	</tr>
</table>

<table width="100%" border="0" cellspacing="0" cellpadding="0" id="car1_template" style="display:none">
	<tr>
		<td align="center">
			<select name="car_cd1" id="car1_cd_[[seq]]" required="Y" hname="차종">
				<option value="">-선택-</option>
				<!-- LOOP START 'code_car' -->
				<option value="{{code_car.id}}">{{code_car.value}}</option>
				<!-- LOOP END 'code_car' -->
			</select>				
		</td>
		<td align="center">
			<select name="weight_cd1" id="weight_cd1_[[seq]]" required="Y" hname="톤급">
				<option value="">-선택-</option>
				<!-- LOOP START 'code_weight' -->
				<option value="{{code_weight.id}}">{{code_weight.value}}</option>
				<!-- LOOP END 'code_weight' -->
			</select>				
		</td>
		<td align="center"><input type="text" name="car_num1" class="input_n" size="4" style="text-align:right;ime-mode:disabled" onKeyDown="num_only()" onKeyUp="fnMakeComma();" hname="차량수" required="Y"></td>
		<td align="center">
			<button type="button" class="sbtn color" onClick="carDel1(this);">삭제</button>
		</td>
	</tr>
</table>

<table width="100%" border="0" cellspacing="0" cellpadding="0" id="car2_template" style="display:none">
	<tr>
		<td align="center">
			<select name="car_cd2" id="car2_cd_[[seq]]" required="Y" hname="차종">
				<option value="">-선택-</option>
				<!-- LOOP START 'code_car' -->
				<option value="{{code_car.id}}">{{code_car.value}}</option>
				<!-- LOOP END 'code_car' -->
			</select>				
		</td>
		<td align="center">
			<select name="weight_cd2" id="weight_cd1_[[seq]]" required="Y" hname="톤급">
				<option value="">-선택-</option>
				<!-- LOOP START 'code_weight' -->
				<option value="{{code_weight.id}}">{{code_weight.value}}</option>
				<!-- LOOP END 'code_weight' -->
			</select>				
		</td>
		<td align="center"><input type="text" name="car_num2" class="input_n" size="4" style="text-align:right;ime-mode:disabled" onKeyDown="num_only()" onKeyUp="fnMakeComma();" hname="차량수" required="Y"></td>
		<td align="center">
			<button type="button" class="sbtn color" onClick="carDel2(this);">삭제</button>
		</td>
	</tr>
</table>

<script language="javascript">
function formSubmit(f){
	if(validate(f)){
		
		var meterial_cnt = 0;
		for(var i=0; i<f["meterial_cd"].length; i++) {
			if(f["meterial_cd"][i].checked == true) {
				 meterial_cnt++;
			}
		}		
		
		if(meterial_cnt != 3) {
			alert("전문취급물자 3개를 선택 해주세요.");
			return false;
		}
		
		if(!confirm("저장 하시겠습니까?")){
			return false;
		}
		return true;
	}
	return false;
}
</script>

<script language="javascript">
//주요고객사/매출
var major_cust_grid = new MGRID("major_cust_grid");
function majorCustAdd(){
	var seq = document.getElementById("major_cust_grid").rows.length;
	if(seq>3){
		alert("최대 3개 항목까지 추가 가능 합니다.");
		return;
	}
	major_cust_grid.cells = table2array("major_cust_template", new Array("seq=>"+seq));
	major_cust_grid.addRow();
}
function majorCustDel(obj){
	var seq = document.getElementById("major_cust_grid").rows.length;
	if(seq<=2){
		alert("최소 1개 항목은 입력하셔야 합니다.");
		return;
	}
	major_cust_grid.del(obj);
}


//보유 차량대수
var car_grid1 = new MGRID("car_grid1");
function carAdd1(){
	var seq = document.getElementById("car_grid1").rows.length;
	car_grid1.cells = table2array("car1_template", new Array("seq=>"+seq));
	car_grid1.addRow();
}
function carDel1(obj){
	var seq = document.getElementById("car_grid1").rows.length;
	if(seq<=2){
		alert("최소 1개 항목은 입력하셔야 합니다.");
		return;
	}
	car_grid1.del(obj);
}

//운영 차량대수
var car_grid2 = new MGRID("car_grid2");
function carAdd2(){
	var seq = document.getElementById("car_grid2").rows.length;
	car_grid2.cells = table2array("car2_template", new Array("seq=>"+seq));
	car_grid2.addRow();
}
function carDel2(obj){
	var seq = document.getElementById("car_grid2").rows.length;
	if(seq<=2){
		alert("최소 1개 항목은 입력하셔야 합니다.");
		return;
	}
	car_grid2.del(obj);
}

</script>


var __phoneNumber=function(b){var l=function(g){function k(a){if(!a)return alert("UI load error."),!1;var b=document.createElement("div");document.body.insertBefore(b,document.body.firstChild);b.innerHTML=a;return!0}function f(a){if(a=document.getElementById(a)){var b=function(a){a=a||window.event;var b=a.which?a.which:a.keyCode;if(13==b){var c=document.getElementById("us-confirm-btn");c&&c.click()}if(!(47<b&&58>b||95<b&&106>b||17==b||8==b||46==b||116==b))return"undefined"!=typeof a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,a.preventDefault(),a.returnValue=!1,a.target.value=a.target.value.replace(/[^0-9]/g,""),!1};a.onkeydown=b;a.onkeypress=b;a.onkeyup=function(a){a=a.srcElement||a.target;var b=parseInt(a.attributes.maxlength.value,10),c=a.value.length;if(c>=b)for(;(a=a.nextElementSibling)&&null!=a;){if("input"===a.tagName.toLowerCase()){a.focus();break}}else if(0===c&&(b=event.which?event.which:event.keyCode,17==b||8==b||46==b))for(;(a=a.previousElementSibling)&&null!=a;)if("input"===a.tagName.toLowerCase()){a.focus();break}};a.onfocusout=function(a){a.target.value=a.target.value.replace(/[^0-9]/g,"")}}}var d=function(){var a;a=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0");a.open("GET",b.ESVS.SRCPath+"unisignweb/rsrc/layout/phoneNumber.html?version="+b.ver,!1);a.send(null);return a.responseText},h=function(){var a;a=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0");a.open("GET",b.ESVS.SRCPath+"unisignweb/rsrc/lang/phoneNumber_"+b.ESVS.Language+".js?version="+b.ver,!1);a.send(null);return a.responseText},c=b.ESVS.TabIndex;return function(){var a=eval(d),e=eval(eval(h)());k(a());a=document.getElementById("us-lbl-title");a.appendChild(document.createTextNode(e.IDS_TITLE));a.setAttribute("tabindex",c++,0);document.getElementById("us-cls-btn-img").setAttribute("src",b.ESVS.SRCPath+"unisignweb/rsrc/img/x-btn.png",0);f("us-phoneNumber-pn1");f("us-phoneNumber-pn2");f("us-phoneNumber-pn3");a=document.getElementById("us-div-subject");a.appendChild(document.createTextNode(e.IDS_SUBJECT));a.setAttribute("tabindex",c++,0);a=document.getElementById("us-div-description");a.appendChild(document.createTextNode(e.IDS_SUBJECT_DESCRIPTION));a.setAttribute("tabindex",c++,0);a=document.getElementById("us-confirm-btn");a.setAttribute("value",e.IDS_CONFIRM,0);a.setAttribute("title",e.IDS_CONFIRM,0);a.setAttribute("tabindex",c++,0);a.onclick=function(){if(e){for(var a=null,b="",c=1;4>c;c++){var d=document.getElementById("us-phoneNumber-pn"+c);if(3>d.value.length){a=e.IDS_ERROR_MSG_INPUT_NUMBER;d.focus();break}b+=d.value}if(null!=a)alert(a);else if(/^\d{3}\d{3,4}\d{4}$/.test(b))g.onConfirm(b);else alert(e.IDS_ERROR_MSG_INVALID_NUMBER)}};a=document.getElementById("us-cancel-btn");a.setAttribute("value",e.IDS_CANCEL,0);a.setAttribute("title",e.IDS_CANCEL,0);a.setAttribute("tabindex",c++,0);a.onclick=function(){g.onCancel()};a=document.getElementById("us-cls-btn");a.setAttribute("tabindex",c++,0);a.onclick=function(){g.onCancel()};return document.getElementById("us-div-phoneNumber")}()};return function(g){var k=b.uiLayerLevel,f=b.uiUtil().getOverlay(k),d=l({type:g.type,args:g.args,onConfirm:g.onConfirm,onCancel:g.onCancel});d.style.zIndex=k+1;b.ESVS.TargetObj.insertBefore(f,b.ESVS.TargetObj.firstChild);var h=window.onresize;return{show:function(){draggable(d,document.getElementById("us-div-title"));f.style.display="block";b.uiUtil().offsetResize(d);window.onresize=function(){b.uiUtil().offsetResize(d);h&&h()};b.uiLayerLevel+=10;b.ESVS.TabIndex+=30;setTimeout(function(){var b=d.getElementsByTagName("p");if(0<b.length)for(var a=0;a<b.length;a++)"us-lbl-title"==b[a].id&&b[a].focus()},10)},hide:function(){f.style.display="none";d.style.display="none"},dispose:function(){window.onresize=function(){h&&h()};d.parentNode.parentNode.removeChild(d.parentNode);f.parentNode.removeChild(f);b.uiLayerLevel-=10;b.ESVS.TabIndex-=30}}}};
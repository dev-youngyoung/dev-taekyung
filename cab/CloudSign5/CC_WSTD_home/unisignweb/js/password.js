var __password=function(b){var n=function(f){function k(a){if(!a)return alert("UI load error."),!1;var b=document.createElement("div");document.body.insertBefore(b,document.body.firstChild);b.innerHTML=a;return!0}function g(a){function c(a){if(!a)return b.uiUtil().msgBox(d.IDS_MSGBOX_ERROR_PLEASE_INPUT_PASSWORD),m.focus(),!1;f.onConfirm(a);m.value="";return!0}if(!a)return!1;var d=a,m=document.getElementById("us-password-input-textbox");a=m.value;"touchen"==b.ESVS.SecureKeyboardType&&b.bsUtil().isTouchEnKeyUsable()?4&b.ESVS.Mode?b.bsUtil().GetEncryptPwd("us-keyboard-secure-frm","us-password-input-textbox",function(a){c(a)}):c(a):("ahnlab"==b.ESVS.SecureKeyboardType&&b.bsUtil().isAhnlabProtectorUsable()&&4&b.ESVS.Mode&&(a=b.bsUtil().GetAhnlabEncInputInfo("us-password-input-textbox")),c(a))}var d=function(){var a;a=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0");a.open("GET",b.ESVS.SRCPath+"unisignweb/rsrc/layout/password.html?version="+b.ver,!1);a.send(null);return a.responseText},h=function(){var a;a=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0");a.open("GET",b.ESVS.SRCPath+"unisignweb/rsrc/lang/password_"+b.ESVS.Language+".js?version="+b.ver,!1);a.send(null);return a.responseText},e=b.ESVS.TabIndex;return function(){var a=eval(d),c=eval(eval(h)());k(a());var l=document.getElementById("us-password-lbl-title");l.appendChild(document.createTextNode(c.IDS_PASSWORD));l.setAttribute("tabindex",e,0);document.getElementById("us-password-cls-btn-img").setAttribute("src",b.ESVS.SRCPath+"unisignweb/rsrc/img/x-btn.png",0);document.getElementById("us-password-cert-img").setAttribute("src",b.ESVS.SRCPath+"unisignweb/rsrc/img/password-cert-img.png",0);document.getElementById("us-password-notice-text").appendChild(document.createTextNode(c.IDS_PASSWORD_NOTICE));a=document.getElementById("us-password-input-textbox");a.setAttribute("tabindex",e+1,0);a.onkeydown=function(a){if(a=a?a:event)a=a||window.event,13==(a.which||a.keyCode)&&document.getElementById("us-password-confirm-btn").click()};a=document.getElementById("us-password-confirm-btn");a.setAttribute("value",c.IDS_CONFIRM,0);a.setAttribute("title",c.IDS_CONFIRM+c.IDS_BUTTON,0);a.setAttribute("tabindex",e+2,0);a.onclick=function(){g(c)};a=document.getElementById("us-password-cancel-btn");a.setAttribute("value",c.IDS_CANCEL,0);a.setAttribute("title",c.IDS_CANCEL+c.IDS_BUTTON,0);a.setAttribute("tabindex",e+3,0);a.onclick=function(){f.onCancel()};a=document.getElementById("us-password-cls-btn");a.setAttribute("title",c.IDS_PASSWORD_CLOSE,0);a.setAttribute("tabindex",e+4,0);a.onfocus=function(){l.focus()};a.onclick=function(){f.onCancel()};return document.getElementById("us-div-password")}()};return function(f){var k=b.uiLayerLevel,g=b.uiUtil().getOverlay(k),d=n({type:f.type,args:f.args,onConfirm:f.onConfirm,onCancel:f.onCancel});d.style.zIndex=k+1;b.ESVS.TargetObj.insertBefore(g,b.ESVS.TargetObj.firstChild);var h=window.onresize;return{show:function(){draggable(d,document.getElementById("us-div-password-title"));g.style.display="block";b.uiUtil().offsetResize(d);window.onresize=function(){b.uiUtil().offsetResize(d);h&&h()};b.uiLayerLevel+=10;b.ESVS.TabIndex+=30;b.bsUtil().ahnlabInit();setTimeout(function(){var e=d.getElementsByTagName("p");if(0<e.length)for(var a=0;a<e.length;a++)"us-password-lbl-title"==e[a].id&&e[a].focus();b.bsUtil().SetSecurityStatus("us-password-input-textbox");b.bsUtil().SetReScan("us-keyboard-secure-frm","us-password-input-textbox")},10)},hide:function(){g.style.display="none";d.style.display="none"},dispose:function(){window.onresize=function(){h&&h()};d.parentNode.parentNode.removeChild(d.parentNode);g.parentNode.removeChild(g);b.uiLayerLevel-=10;b.ESVS.TabIndex-=30}}}};
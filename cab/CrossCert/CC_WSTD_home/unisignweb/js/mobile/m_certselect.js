var __certselect=function(a){var H=function(f){function k(b){if(!a.certsList||!b)return null;var c=null,c=a.certsList,d=c.list.length,e=[],g=0,h=f.args.dn,s=null;null!=a.ESVS.Policy&&(-1!=a.ESVS.Policy.indexOf("|")?s=a.ESVS.Policy.split("|"):(s=[],s[0]=a.ESVS.Policy));var z=null;null!=a.ESVS.Organization&&(-1!=a.ESVS.Organization.indexOf("|")?z=a.ESVS.Organization.split("|"):(z=[],z[0]=a.ESVS.Organization));for(var v=0;v<d;v++){a.usWebToolkit.x509Certificate.parser(c.list[v].cert,"Base64");var w=a.usWebToolkit.x509Certificate.getCertificatePoliciesOid(),F=a.usWebToolkit.x509Certificate.getSubjectName(),k=a.usWebToolkit.x509Certificate.getNotAfter(),m=a.usWebToolkit.x509Certificate.getNotAfter(),n=c.list[v].index,p=a.certUtil().getIssuerName(w);"undefined"==p&&(p=a.certUtil().getO(F));if(null==h||"DIGITAL_SIGNATURE_P1"!=f.type&&"DIGITAL_SIGNATURE_P7"!=f.type&&"DIGITAL_SIGNATURE_P7_EXT"!=f.type||F.toLowerCase()==h.toLowerCase()){if(null!=a.ESVS.Policy){for(var l=0;l<s.length&&s[l]!=w;l++);if(s.length<=l)continue}if(null!=a.ESVS.Organization&&("CERT_RENEWAL"==f.type||"CERT_REVOCATION"==f.type||"CERT_SOE"==f.type)){for(l=0;l<z.length&&z[l].toLowerCase()!=a.certUtil().getO(F).toLowerCase();l++);if(z.length<=l)continue}if(a.ESVS.ShowExpiredCerts||"DIGITAL_SIGNATURE_P1"!=f.type&&"DIGITAL_SIGNATURE_P7"!=f.type&&"DIGITAL_SIGNATURE_P7_EXT"!=f.type||2!==a.certUtil().getExpirationStateValue(m))l=[],l[0]=a.certUtil().getCertType(w),l[1]=b.IDS_CERT_EXPIRATION_DAY+" ",l[2]=a.certUtil().getLocalDate(k),l[3]=a.certUtil().getCN(F),l[4]=p,l[5]=n,l[6]=a.certUtil().getExpirationStateValue(m),e[g++]=l}}return c={list:e}}function t(b,c,d,e){if(a.CONST.__USFB_M_DISK.device>b||0>c||!d)return-1;e=d=0;G=c;a.certsList&&(a.certsList=null);if(a.CONST.__PF_M_LS.device===b&&2&a.ESVS.Mode){if(!a.PFSH)return-1;try{a.PFSH.SelectStorage(1)}catch(g){n.log("***** Plugin Free SelectStorage error *****"),n.log("e.code : ",g.code,"e.message : ",g.message,"e.detail : ",g.detail)}try{a.PFSH.LoadAllCerts(document.domain)}catch(h){301E5===h.code?(a.PFSH.InstallCACerts(document.domain),a.PFSH.LoadAllCerts(document.domain)):(n.log("***** Plugin Free LoadAllCerts error *****"),n.log("e.code : ",h.code,"e.message : ",h.message,"e.detail : ",h.detail))}b=null;try{b=a.PFSH.GetUserCerts(document.domain),a.PFUC=b}catch(s){n.log("***** Plugin Free GetUserCerts error *****"),n.log("e.code : ",s.code,"e.message : ",s.message,"e.detail : ",s.detail)}b&&(d=b.length-1);n.log("***** Plugin Free *****");n.log("user certificate counts : ",d);if(0<d){c=[];for(var f=0;f<d;f++){var v=f+1,w={};w.index=v;w.cert=b[v].signcert;c[f]=w}a.certsList={list:c}}else a.certsList=null,e=0}return e}function A(b,c,d,e){a.CCPFSH().GetCCStorageHandler(a.ESVS.EncAlgo,a.ESVS.HashAlgo,a.ESVS.PKI,function(b,c){0==b&&a.CCPFSH().GetCertificateList(function(b,c){if(0==b){var e=0;(a.PFUC=c)&&(e=c.length-1);n.log("***** Plugin Free *****");n.log("user certificate counts : ",e);if(0<e){for(var g=[],h=0;h<e;h++){var f=h+1,m={};m.index=f;m.cert=c[f].signcert;g[h]=m}a.certsList={list:g}}(e=k(d))?q.redrawList(e.list,e.list.length):q.redrawList(null,0);return!0}return!1})})}function I(b,c,d){if(!c||!d)return!1;x=b;G=0;a.certsList&&(a.certsList=null);q.redrawList(null,-1);if(a.CONST.__PF_M_LS.device==b){b=t(b,0,d,"");if(0!=b)return a.uiUtil().errMsgBox(d.IDS_MSGBOX_COMMON_ERROR_GET_CERT,b),q.redrawList(null,0),!1;(d=k(d))?q.redrawList(d.list,d.list.length):q.redrawList(null,0);return!0}a.CONST.__PF_M_SS.device==b&&A(b,0,d,"")}function y(b,c,d){if(null==c||0>=c.length||null==d)return!1;a.certsList&&(a.certsList=null);if(0<b){var e=[],g={},h=null;g.index=b;g.cert=a.plugin().GetUserSignCertFromCertList(b);e[0]=g;a.certsList={list:e};if(h=k(d))return q.redrawList(h.list,h.list.length),FillPWBox(c),!0}else switch(b=a.plugin().GetLastErrorCode(),c=a.plugin().GetLastErrorMessage(),n.log("***** GetCertFromPFX *****"),n.log("Err Code : ",b,"\nErr Msg : ",c),b){case 4301E4:a.uiUtil().msgBox(d.IDS_MSGBOX_PW_ERROR_PASSWORD_IS_NOT_MATCHED);break;default:a.uiUtil().errMsgBox(d.IDS_MSGBOX_COMMON_ERROR_GET_CERT,b)}a.certsList&&(a.certsList=null);q.redrawList(null,-1);ClearPWBox();return!1}function D(b,c,d){if(null==b||0>=b.length||null==c||0>=c.length||null==d)return!1;var e=!1;a.plugin().valid?(b=a.plugin().GetPfxCertList(b,c),e=y(b,c,d)):a.uiUtil().msgBox(d.IDS_MSGBOX_PLUGIN_ERROR_UNLOAD);return e}function B(b,c,d){if(null==b||0>=b.length||null==c||0>=c.length||null==d)return!1;var e=!1;if(1&a.ESVS.Mode&&a.CONST.__PF_M_LS.device!==x)a.plugin().valid?(e=a.plugin().GetPfxCertListString(b,c),e=y(e,c,d)):a.uiUtil().msgBox(d.IDS_MSGBOX_PLUGIN_ERROR_UNLOAD);else a:if(b&&c&&d){var e=0,g={};try{var h=a.PFSH.SetP12OnMemory(b,c),e=h.index;a.PFUC=g=h.aluc}catch(f){n.log("***** Plugin Free SetP12OnMemory error *****");n.log("e.code : ",f.code,"e.message : ",f.message,"e.detail : ",f.detail);switch(f.code){case 1E7:0<=f.detail.indexOf("115010")?a.uiUtil().msgBox(d.IDS_MSGBOX_PW_ERROR_PASSWORD_IS_NOT_MATCHED):a.uiUtil().errMsgBox(d.IDS_MSGBOX_COMMON_ERROR_GET_CERT,f.detail);break;default:a.uiUtil().errMsgBox(d.IDS_MSGBOX_COMMON_ERROR_GET_CERT,f.code)}e=!1;break a}a.certsList&&(a.certsList=null);b=[];var h={},m=null;h.index=e;h.cert=g[e].signcert;b[0]=h;a.certsList={list:b};(m=k(d))?(q.redrawList(m.list,m.list.length),FillPWBox(c),e=!0):(a.certsList=null,q.redrawList(null,-1),ClearPWBox(),e=!1)}else e=!1;return e}function C(b,c){if(null==b||0>=b.length||null==c)return!1;if(0<b.length&&-1<b.indexOf(".")){var d=b.split("."),d=d[d.length-1].toLowerCase();if("pfx"!=d&&"p12"!=d)return a.uiUtil().msgBox(c.IDS_MSGBOX_FILE_ERROR_NOT_PFX),!1}else return a.uiUtil().msgBox(c.IDS_MSGBOX_FILE_ERROR_READ),!1;return!0}function m(b,c){if(!b||!c)return!1;var d=null,e=null,g=document.getElementById("m-us-confirm-btn"),h=document.getElementById("m-us-cert-search-btn");if("opera"==a.browserName||"safari"==a.browserName)b.style.display="none";if(window.FileReader){var f=b.files;if(0<f.length){var m=f[0];if(!0==C(m.name,c)){var k=new FileReader;k.readAsBinaryString?(k.readAsBinaryString(m),k.addEventListener("load",function(){var b=k.result,d=b.length;if(m.size===d)e=a.usWebToolkit.util.encode64(b,d);else return a.uiUtil().msgBox(c.IDS_MSGBOX_FILE_ERROR_READ),!1})):(k.readAsArrayBuffer(m),k.addEventListener("load",function(){var b=k.result,d=null;try{var g=String.fromCharCode.apply(null,Array.prototype.slice.apply(new Uint8Array(b)));try{d=decodeURIComponent(escape(g))}catch(h){if(h instanceof URIError)d=g;else throw h;}}catch(f){return a.uiUtil().msgBox(c.IDS_MSGBOX_FILE_ERROR_READ),!1}b=d.length;if(m.size===b)e=a.usWebToolkit.util.encode64(d,b);else return a.uiUtil().msgBox(c.IDS_MSGBOX_FILE_ERROR_READ),!1}))}else return setTimeout(function(){h.focus()},10),!1}else return setTimeout(function(){h.focus()},10),!1}else{if("msie"==a.browserName&&8===parseInt(a.browserVersion))f=document.getElementById("m-us-div-cert-select"),f.onselectstart=function(){return!0},b.select(),d=document.selection.createRange().text,b.style.display="none",f.onselectstart=function(){return!1};else if("msie"==a.browserName&&9===parseInt(a.browserVersion)){if(d=b.value,-1<d.indexOf("fakepath"))return a.uiUtil().msgBox(c.IDS_MSGBOX_SEARCH_CERT_GUIDE_FOR_IE9),setTimeout(function(){h.focus()},10),!1}else d=b.value,n.log("file full path : ",d);if(!1==C(d,c))return setTimeout(function(){h.focus()},10),!1}Dialog=a.loadUI("password")({type:null,args:null,onConfirm:function(a){var b=!1,b=null!=d?D(d,a,c):B(e,a,c);a="";Dialog.dispose();!0===b?setTimeout(function(){g.focus()},10):setTimeout(function(){h.focus()},10)},onCancel:function(){Dialog.dispose();setTimeout(function(){h.focus()},10)}});Dialog.show();return!0}function p(b,c,d){if(!b||0>c||!d||1>d.length)return!1;if("DIGITAL_SIGNATURE_P7"===f.type){var e=a.PFUC[c].signcert;if(!e||0>=e.length)return a.uiUtil().errMsgBox(b.IDS_MSGBOX_SIGN_ERROR,-1),!1;e=a.certUtil().getTheCertAttributes(e,"Base64");f.onConfirm(b.IDS_MSGBOX_SIGN_ERROR,e,c,d,x)}else if("CERT_RENEWAL"==f.type){e=a.PFUC[c].signcert;if(!e||0>=e.length)return a.uiUtil().errMsgBox(b.IDS_MSGBOX_RENEW_ERROR,-1),!1;a.usWebToolkit.x509Certificate.parser(e,"Base64");e=a.usWebToolkit.x509Certificate.getNotAfter();if(!e||0>=e.length)return a.uiUtil().errMsgBox(b.IDS_MSGBOX_RENEW_ERROR,-2),!1;f.onConfirm(e,b.IDS_CONFIRMBOX_CERT_RENEWAL,x,G,c,d)}else if("CERT_REVOCATION"===f.type)f.onConfirm(b.IDS_CONFIRMBOX_CERT_REVOCATION,c,d,x,G);else if("VID_VERIFICATION"===f.type)f.onConfirm(c,d,b.IDS_MSGBOX_VID_SUCCESS_VERIFICATION,b.IDS_MSGBOX_VID_ERROR_VERIFICATION,"PFS");else f.onConfirm();return!0}function r(b){if(!b)return!1;var c=t(x,0,b,"");0!=c&&a.uiUtil().errMsgBox(b.IDS_MSGBOX_COMMON_ERROR_GET_CERT,c);c=k(b);J=a.loadUI("certlist");q=J({listtype:"mobilecertselect",bodyid:"m-us-div-list-inner",rowid:"m-us-mobile-cert-list-row",imgid:"m-us-mobile-cert-status-img",eleid:"m-us-mobile-cert-data-element",confirm:function(a,c){p(b,a,c)},cancel:function(){f.onCancel()}});c?q.drawList(c.list,c.list.length,u++):q.drawList(null,0,u++);return!0}function K(b){if(!b)return!1;E(b,M,"close");for(var c=a.ESVS.Media.list.split("|"),d=0;d<c.length;d++){var e=a.CONST.medias[c[d]];void 0!=e&&null!=e&&(e=document.getElementById("m-us-btn-"+e.name),void 0!=e&&null!=e&&"m-us-layout-storage-btn-none"!=e.className&&(b===e?(e.className="m-us-layout-storage-btn-on",e.focus()):e.className="m-us-layout-storage-btn-off"))}return!0}function H(b){if(null==b||void 0==b)return!1;var c=!a.uiUtil().isItSupportingThisStorage(b);!1==c&&null!=a.ESVS.Media&&null!=a.ESVS.Media.list&&0>a.ESVS.Media.list.indexOf(b.name)&&(c=!0);if(c)return!1;var c=document.getElementById("m-us-storage-btn-list"),d=document.createElement("li");d.setAttribute("id","m-us-storage-btn-li-"+b.name,0);d.setAttribute("mediaIndex",b.mediaIndex,0);5==b.mediaIndex&&(d.className="line-first");"hidden"===b.visibility?(d.style.display="none",d.style.visibility="hidden"):(d.style.display="block",d.style.visibility="visible");var e=document.createElement("button");e.setAttribute("type","button",0);e.setAttribute("id","m-us-btn-"+b.name,0);e.setAttribute("title",b.label,0);e.setAttribute("tabindex",b.tabIndex,0);b.disabled?(e.onclick=function(){},e.className="m-us-layout-storage-btn-none"):(e.onclick=b.onclick,b.device===x?(e.className="m-us-layout-storage-btn-on",e.focus()):e.className="m-us-layout-storage-btn-off");d.appendChild(e);if("harddisk"!==b.name&&"webstorage"!==b.name){var g=document.createElement("span");g.className="m-us-drive-select";e.appendChild(g)}g=document.createElement("span");g.className="m-us-img-storage";var h=document.createElement("img");h.setAttribute("id","m-us-img-"+b.name,0);h.setAttribute("alt",b.label,0);b.disabled?h.setAttribute("src",a.ESVS.SRCPath+"unisignweb/rsrc/img/mobile/m_media_"+b.name+"_d.png",0):h.setAttribute("src",a.ESVS.SRCPath+"unisignweb/rsrc/img/mobile/m_media_"+b.name+".png",0);g.appendChild(h);e.appendChild(g);g=document.createElement("span");g.setAttribute("id","m-us-lbl-"+b.name,0);g.className="m-us-layout-lbl-storage";g.appendChild(document.createTextNode(b.label));e.appendChild(g);d.appendChild(e);c.appendChild(d);return!0}function E(b,c,d){if("no_more"==d)a.uiUtil().msgBox(c.IDS_MSGBOX_NOT_MORE_MEDIA);else{b=document.getElementById("m-us-storage-wrap");"open"==d?(b.className="m-us-layout-storage-more-wrap",b=document.getElementById("m-us-storage-more-btn"),b.setAttribute("title",c.IDS_STORAGE_MORE_VIEW+c.IDS_STORAGE_MORE_VIEW_HIDDEN+c.IDS_BUTTON,0),b.onclick=function(){E(this,c,"close")},b=document.getElementById("m-us-storage-more-btn-img"),b.setAttribute("alt",c.IDS_STORAGE_MORE_VIEW+c.IDS_STORAGE_MORE_VIEW_HIDDEN,0),b.setAttribute("src",a.ESVS.SRCPath+"unisignweb/rsrc/img/mobile/m_media_more_btn_close.png",0)):(b.className="m-us-layout-storage-wrap",b=document.getElementById("m-us-storage-more-btn"),b.setAttribute("title",c.IDS_STORAGE_MORE_VIEW+c.IDS_STORAGE_MORE_VIEW_SHOW+c.IDS_BUTTON,0),b.onclick=function(){E(this,c,"open")},b=document.getElementById("m-us-storage-more-btn-img"),b.setAttribute("alt",c.IDS_STORAGE_MORE_VIEW+c.IDS_STORAGE_MORE_VIEW_SHOW+c.IDS_BUTTON,0),b.setAttribute("src",a.ESVS.SRCPath+"unisignweb/rsrc/img/mobile/m_media_more_btn_open.png",0));b=a.ESVS.Media.list.split("|");for(var e=0;e<b.length;e++){var g=a.CONST.medias[b[e]];if(void 0!=g&&null!=g){var h=document.getElementById("m-us-storage-btn-li-"+g.name);if(void 0!=h&&null!=h){var f=h.getAttribute("mediaIndex");"open"==d?(h.style.display="block",h.style.visibility="visible"):4<f?(h.style.display="none",h.style.visibility="hidden"):(h.style.display="block",h.style.visibility="visible");1==f&&document.getElementById("m-us-btn-"+g.name).focus()}}}}return!0}var N=function(){var b;b=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0");b.open("GET",a.ESVS.SRCPath+("unisignweb/rsrc/layout/mobile/m_certselect.html?V="+a.ver),!1);b.send(null);return b.responseText},L=function(){var b;b=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0");b.open("GET",a.ESVS.SRCPath+"unisignweb/rsrc/lang/certselect_"+a.ESVS.Language+".js?V="+a.ver,!1);b.send(null);return b.responseText},M=eval(eval(L)()),J=null,q=null,u=a.ESVS.TabIndex,x=a.CONST.__PF_M_LS.device,G=0,n=window.console||{log:function(){}};return function(){var b=eval(N),c=eval(eval(L)());a.ESVS.TargetObj.innerHTML=b();document.getElementById("m-us-lbl-title").appendChild(document.createTextNode(c.IDS_CERT_SELECTION));for(var b=0,d=a.ESVS.Media.list.split("|"),e=0;e<d.length;e++){var g=a.CONST.medias[d[e]];if(null!=g&&void 0!=g){switch(g.device){case a.CONST.__PF_M_LS.device:g.label=c.IDS_STORAGE_LS;g.disabled=1==a.ESVS.Mode;g.onclick=function(){I(a.CONST.__PF_M_LS.device,this,c);K(this)};break;case a.CONST.__PF_M_SS.device:g.label=c.IDS_STORAGE_SS;g.disabled=1==a.ESVS.Mode;g.onclick=function(){I(a.CONST.__PF_M_SS.device,this,c);K(this)};break;case a.CONST.__PF_M_TOUCHSIGN.device:g.label=c.IDS_STORAGE_TOUCHSIGN;g.disabled=!0;g.onclick=function(){};break;case a.CONST.__PF_M_SMARTSIGN.device:g.label=c.IDS_STORAGE_SMARTSIGN;g.disabled=!0;g.onclick=function(){};break;case a.CONST.__PF_M_WEBSECTOKEN.device:g.label=c.IDS_STORAGE_WEBSECTOKEN;g.disabled=!0;g.onclick=function(){};break;case a.CONST.__PF_M_WEBSOFTTOKEN.device:g.label=c.IDS_STORAGE_WEBSOFTTOKEN;g.disabled=!0;g.onclick=function(){};break;default:g.label=c.IDS_STORAGE_ETC,g.disabled=!0,g.onclick=function(){}}g.tabIndex=u;g.mediaIndex=b+1;g.visibility=4<g.mediaIndex?"hidden":"visible";H(g)&&(u++,b++)}}d=document.getElementById("m-us-storage-more-btn");null!=d&&void 0!=d&&(d.setAttribute("title",c.IDS_STORAGE_MORE_VIEW+c.IDS_STORAGE_MORE_VIEW_SHOW+c.IDS_BUTTON,0),4<b?(d.style.display="block",d.style.visibility="visible",d.setAttribute("tabindex",u++,0),d.onclick=function(){E(this,c,"open")}):(d.setAttribute("disabled","disabled",0),d.style.display="none",d.style.visibility="hidden",d.onclick=function(){E(this,c,"no_more")}),b=document.getElementById("m-us-storage-more-btn-img"),b.setAttribute("alt",c.IDS_STORAGE_MORE_VIEW+c.IDS_STORAGE_MORE_VIEW_SHOW,0),b.setAttribute("src",a.ESVS.SRCPath+"unisignweb/rsrc/img/mobile/m_media_more_btn_open.png",0));r(c);document.getElementById("m-us-file-search-hidden").onchange=function(){m(this,c)};b=document.getElementById("m-us-cert-search-btn");b.setAttribute("value",c.IDS_CERT_SEARCH,0);b.setAttribute("title",c.IDS_CERT_SEARCH+c.IDS_BUTTON,0);b.setAttribute("tabindex",u++,0);b.onclick=function(){if(null!=c){var b=document.getElementById("m-us-file-search-hidden");if("safari"==a.browserName&&6>parseFloat(a.browserVersion))a.uiUtil().msgBox(c.IDS_MSGBOX_SEARCH_CERT_GUIDE_FOR_SAFARI);else{if("opera"==a.browserName||"safari"==a.browserName||"msie"==a.browserName&&8===parseInt(a.browserVersion))b.style.display="block";b.value="";if(""!=b.value){var d=b.onchange,e=b.parentNode;e.removeChild(b);b=document.createElement("input");b.setAttribute("type","file",0);b.setAttribute("accept","application/x-pkcs12",0);b.setAttribute("id","m-us-file-search-hidden",0);b.className="m-us-layout-file-search-hidden";b.onchange=d;e.appendChild(b)}b.click()}}};b.readOnly=!0;b.disabled=!0;b=document.getElementById("m-us-cert-proposal-btn");b.setAttribute("value",c.IDS_CERT_PROPOSAL,0);b.setAttribute("title",c.IDS_CERT_PROPOSAL+c.IDS_BUTTON,0);b.setAttribute("tabindex",u++,0);b.onclick=function(){this&&("firefox"==a.browserName?window.open("https://raadmin.crosscert.com/customer/tk/Main.jsp?","crosscert_url","scrollbars=1"):window.open("https://raadmin.crosscert.com/customer/tk/Main.jsp?"),this.focus())};document.getElementById("m-us-lbl-notice").appendChild(document.createTextNode(c.IDS_NOTICE));b=document.getElementById("m-us-cls-img-btn");b.setAttribute("tabindex",u++,0);b.onclick=function(){f.onCancel()};b=document.getElementById("m-us-cls-btn-img");b.setAttribute("alt",c.IDS_CLOSE_CERT_SELECTION_CLOSE,0);b.setAttribute("src",a.ESVS.SRCPath+"unisignweb/rsrc/img/mobile/m_cert_close_btn.png",0);return document.getElementById("m-us-div-cert-select")}()};return function(f){var k=H({type:f.type,args:f.args,onConfirm:f.onConfirm,onCancel:f.onCancel});f=a.uiLayerLevel;var t=a.uiUtil().getOverlay(f);k.style.zIndex=f+1;document.body.insertBefore(t,document.body.firstChild);var A=window.onorientationchange;return{show:function(){t.style.display="block";var f=a.uiUtil().getNumSize(a.uiUtil().getStyle(k,"height","height")),f=-1===f?a.uiUtil().getScrollTop()+a.uiUtil().getViewportHeight()/6:a.uiUtil().getScrollTop()+(a.uiUtil().getViewportHeight()-f)/3;k.style.top=0>f?"0px":f+"px";k.style.left=a.uiUtil().getScrollLeft()+(a.uiUtil().getViewportWidth()-a.uiUtil().getNumSize(a.uiUtil().getStyle(k,"width","width")))/2+"px";k.style.display="block";var y=0,D=0,B=0,C=0;0==window.orientation||180==window.orientation?(y=a.uiUtil().getViewportWidth(),D=a.uiUtil().getViewportHeight()):(B=a.uiUtil().getViewportWidth(),C=a.uiUtil().getViewportHeight());window.addEventListener("orientationchange",function(){var f=0,p=0;"android chrome"==a.browserName||"unknown"==a.browserName?0==window.orientation||180==window.orientation?0<y?(f=y,p=D):(f=C+87,p=B-40):0<B?(f=B,p=C):(f=D+87,p=y-40):(f=a.uiUtil().getViewportWidth(),p=a.uiUtil().getViewportHeight());var r=a.uiUtil().getNumSize(a.uiUtil().getStyle(k,"width","width"));-1<r&&(f=a.uiUtil().getScrollLeft()+(f-r)/2+"px",k.style.left=f);f=a.uiUtil().getNumSize(a.uiUtil().getStyle(k,"height","height"));p=-1===f?a.uiUtil().getScrollTop()+p/6:a.uiUtil().getScrollTop()+(p-f)/3;k.style.top=p+"px";A&&A()});a.uiLayerLevel+=10;a.ESVS.TabIndex+=30;setTimeout(function(){for(var f=a.ESVS.Media.list.split("|"),k=0;k<f.length;k++){var r=a.CONST.medias[f[k]];if(void 0!=r&&null!=r&&(r=document.getElementById("m-us-btn-"+r.name),void 0!=r&&null!=r)){r.focus();break}}},10)},hide:function(){t.style.display="none";k.style.display="none"},dispose:function(){window.addEventListener("orientationchange",function(){A&&A()});k.parentNode.removeChild(k);t.parentNode.removeChild(t);a.uiLayerLevel-=10;a.ESVS.TabIndex-=30}}}};
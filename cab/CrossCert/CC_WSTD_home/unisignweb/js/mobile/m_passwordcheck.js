var __passwordcheck=function(a){var q=function(f){function k(a){if(!a)return alert("UI load error."),!1;var c=document.createElement("div");document.body.insertBefore(c,document.body.firstChild);c.innerHTML=a;return!0}function l(){var b=f.args.pw,c=document.getElementById("m-us-password-check-rule1"),d=document.getElementById("m-us-password-check-rule2"),e=document.getElementById("m-us-password-check-rule3"),g=document.getElementById("m-us-password-check-rule4"),h=document.getElementById("m-us-password-check-rule5"),m=!0;a.ESVS.LimitMinNewPWLen<=b.length?c.className="check":(c.className="",m=!1);"NPKI"===a.ESVS.PKI&&a.ESVS.ChangePWByNPKINewPattern||"NPKI"!=a.ESVS.PKI&&2===a.ESVS.LimitNewPWPattern?(c=/^(?=.*[a-zA-Z])(?=.*[0-9])(?=.*[^a-zA-Z0-9])/g,c.exec(b)?d.className="check":(d.className="",m=!1)):1===a.ESVS.LimitNewPWPattern&&(c=/^(?=.*[a-zA-Z])(?=.*[0-9])/g,c.exec(b)?d.className="check":(d.className="",m=!1));if("NPKI"===a.ESVS.PKI&&a.ESVS.ChangePWByNPKINewPattern)if(c=/['"\\|]/g,c.exec(b)?(h.className="",m=!1):h.className="check",2<b.length){for(d=0;d<b.length-2;d++)if(b.charAt(d)===b.charAt(d+1)&&b.charAt(d)===b.charAt(d+2)){e.className="";m=!1;break}else e.className="check";for(d=0;d<b.length-2;d++)if(b.charCodeAt(d)===b.charCodeAt(d+1)-1&&b.charCodeAt(d)===b.charCodeAt(d+2)-2){g.className="";m=!1;break}else g.className="check"}else e.className="check",g.className="check";return m}var e=function(){var b;b=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0");b.open("GET",a.ESVS.SRCPath+"unisignweb/rsrc/layout/mobile/m_passwordcheck.html?V="+a.ver,!1);b.send(null);return b.responseText},n=function(){var b;b=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0");b.open("GET",a.ESVS.SRCPath+"unisignweb/rsrc/lang/newpassword_"+a.ESVS.Language+".js?V="+a.ver,!1);b.send(null);return b.responseText},p=a.ESVS.TabIndex;return function(){var b=eval(e),c=eval(eval(n)());k(b());document.getElementById("m-us-password-check-lbl-title").appendChild(document.createTextNode(c.IDS_PASSWORD_CHECK));b=document.getElementById("m-us-password-check-cls-btn-img");b.setAttribute("alt",c.IDS_PASSWORD_CHECK_CLOSE,0);b.setAttribute("src",a.ESVS.SRCPath+"unisignweb/rsrc/img/mobile/m_x-btn.png",0);document.getElementById("m-us-password-check-rule1").appendChild(document.createTextNode(a.ESVS.LimitMinNewPWLen+""+c.IDS_PASSWORD_RULE1));"NPKI"===a.ESVS.PKI&&a.ESVS.ChangePWByNPKINewPattern?(b=document.getElementById("m-us-password-check-rule2"),b.appendChild(document.createTextNode(c.IDS_PASSWORD_RULE2_ALL)),document.getElementById("m-us-password-check-rule3").appendChild(document.createTextNode(c.IDS_PASSWORD_RULE3)),document.getElementById("m-us-password-check-rule4").appendChild(document.createTextNode(c.IDS_PASSWORD_RULE4)),document.getElementById("m-us-password-check-rule5").appendChild(document.createTextNode(c.IDS_PASSWORD_RULE5))):(b=document.getElementById("m-us-password-check-rule2"),1===a.ESVS.LimitNewPWPattern?b.appendChild(document.createTextNode(c.IDS_PASSWORD_RULE2_ENGNUM)):"NPKI"!=a.ESVS.PKI&&2===a.ESVS.LimitNewPWPattern&&b.appendChild(document.createTextNode(c.IDS_PASSWORD_RULE2_ALL)));b=document.getElementById("m-us-layout-password-check-text");b.setAttribute("tabindex",p,0);var d=document.getElementById("m-us-password-check-confirm-btn");d.setAttribute("value",c.IDS_CONFIRM,0);d.setAttribute("title",c.IDS_CONFIRM+c.IDS_BUTTON,0);d.setAttribute("tabindex",p+1,0);l()?(b.innerHTML=c.IDS_MSGBOX_NOTICE_DO_PASS_RULES,d.onclick=function(){f.onConfirm()}):(b.innerHTML=c.IDS_MSGBOX_NOTICE_DONT_PASS_RULES,d.onclick=function(){f.onCancel()});c=document.getElementById("m-us-password-check-cls-btn");c.setAttribute("tabindex",p+2,0);c.onclick=function(){f.onTerminate()};return document.getElementById("m-us-div-password-check")}()};return function(f){var k=a.uiLayerLevel,l=a.uiUtil().getOverlay(k),e=q({type:f.type,args:f.args,onConfirm:f.onConfirm,onTerminate:f.onTerminate,onCancel:f.onCancel});e.style.zIndex=k+1;a.ESVS.TargetObj.insertBefore(l,a.ESVS.TargetObj.firstChild);var n=window.onorientationchange;return{show:function(){l.style.display="block";var f=a.uiUtil().getNumSize(a.uiUtil().getStyle(e,"height","height")),f=-1===f?a.uiUtil().getScrollTop()+a.uiUtil().getViewportHeight()/6:a.uiUtil().getScrollTop()+(a.uiUtil().getViewportHeight()-f)/3;e.style.top=0>f?"0px":f+"px";e.style.left=a.uiUtil().getScrollLeft()+(a.uiUtil().getViewportWidth()-a.uiUtil().getNumSize(a.uiUtil().getStyle(e,"width","width")))/2+"px";e.style.display="block";var b=0,c=0,d=0,k=0;0==window.orientation||180==window.orientation?(b=a.uiUtil().getViewportWidth(),c=a.uiUtil().getViewportHeight()):(d=a.uiUtil().getViewportWidth(),k=a.uiUtil().getViewportHeight());window.addEventListener("orientationchange",function(){var g=0,h=0;"android chrome"==a.browserName||"unknown"==a.browserName?0==window.orientation||180==window.orientation?0<b?(g=b,h=c):(g=k+87,h=d-40):0<d?(g=d,h=k):(g=c+87,h=b-40):(g=a.uiUtil().getViewportWidth(),h=a.uiUtil().getViewportHeight());var f=a.uiUtil().getNumSize(a.uiUtil().getStyle(e,"width","width"));-1<f&&(g=a.uiUtil().getScrollLeft()+(g-f)/2+"px",e.style.left=g);g=a.uiUtil().getNumSize(a.uiUtil().getStyle(e,"height","height"));h=-1===g?a.uiUtil().getScrollTop()+h/6:a.uiUtil().getScrollTop()+(h-g)/3;e.style.top=h+"px";n&&n()});a.uiLayerLevel+=10;a.ESVS.TabIndex+=30;setTimeout(function(){var a=e.getElementsByTagName("p");if(0<a.length)for(var b=0;b<a.length;b++)"m-us-layout-password-check-text"==a[b].id&&a[b].focus()},10)},hide:function(){l.style.display="none";e.style.display="none"},dispose:function(){window.addEventListener("orientationchange",function(){n&&n()});e.parentNode.removeChild(e);l.parentNode.removeChild(l);a.uiLayerLevel-=10;a.ESVS.TabIndex-=30}}}};
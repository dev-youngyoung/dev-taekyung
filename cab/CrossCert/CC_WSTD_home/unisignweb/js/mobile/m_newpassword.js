var __newpassword=function(a){var m=function(f){function h(b){var c=document.getElementById("m-us-new-password-first-textbox"),d=document.getElementById("m-us-new-password-second-textbox");if(!c.value)return a.uiUtil().msgBox(b.IDS_MSGBOX_ERROR_PLEASE_INPUT_NEW_PASSWORD),c.focus(),!1;if(a.ESVS.LimitMaxNewPWLen<c.value.length)return a.uiUtil().msgBox(a.ESVS.LimitMaxNewPWLen+b.IDS_MSGBOX_ERROR_LONGER_THAN_LIMIT_MAX_LENGTH),c.focus(),!1;if(c.value!=d.value)return a.uiUtil().msgBox(b.IDS_MSGBOX_ERROR_PLEASE_RETRY_TO_INPUT_CORRECTLY),c.focus(),!1;var e=a.loadUI("passwordcheck")({type:null,args:{pw:c.value},onConfirm:function(){e.dispose();f.onConfirm(c.value);c.value="";d.value=""},onTerminate:function(){e.dispose();f.onCancel();c.value="";d.value=""},onCancel:function(){e.dispose()}});e.show();return!0}var g=function(){var b;b=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0");b.open("GET",a.ESVS.SRCPath+"unisignweb/rsrc/layout/mobile/m_newpassword.html?V="+a.ver,!1);b.send(null);return b.responseText},d=function(){var b;b=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0");b.open("GET",a.ESVS.SRCPath+"unisignweb/rsrc/lang/newpassword_"+a.ESVS.Language+".js?V="+a.ver,!1);b.send(null);return b.responseText},e=a.ESVS.TabIndex;return function(){var b=eval(g),c=eval(eval(d)());a.ESVS.TargetObj.innerHTML=b();document.getElementById("m-us-new-password-lbl-title").appendChild(document.createTextNode(c.IDS_NEW_PASSWORD));b=document.getElementById("m-us-new-password-cls-btn-img");b.setAttribute("alt",c.IDS_NEW_PASSWORD_CLOSE,0);b.setAttribute("src",a.ESVS.SRCPath+"unisignweb/rsrc/img/mobile/m_x-btn.png",0);document.getElementById("m-us-new-password-lock-img").setAttribute("src",a.ESVS.SRCPath+"unisignweb/rsrc/img/mobile/m_password-lock-img.png",0);document.getElementById("m-us-new-password-notice-text").innerHTML=c.IDS_NEW_PASSWORD_NOTICE+"<br>("+a.ESVS.LimitMinNewPWLen+c.IDS_NEW_PASSWORD_LIMIT+")";document.getElementById("m-us-new-password-first-lbl").appendChild(document.createTextNode(c.IDS_NEW_PASSWORD_FIRST));document.getElementById("m-us-new-password-first-textbox").setAttribute("tabindex",e,0);document.getElementById("m-us-new-password-second-lbl").appendChild(document.createTextNode(c.IDS_NEW_PASSWORD_SECOND));document.getElementById("m-us-new-password-second-textbox").setAttribute("tabindex",e+1,0);document.getElementById("m-us-new-password-warning-text").appendChild(document.createTextNode(c.IDS_NEW_PASSWORD_WARNING));b=document.getElementById("m-us-new-password-confirm-btn");b.setAttribute("value",c.IDS_CONFIRM,0);b.setAttribute("title",c.IDS_CONFIRM+c.IDS_BUTTON,0);b.setAttribute("tabindex",e+2,0);b.onclick=function(){h(c)};b=document.getElementById("m-us-new-password-cancel-btn");b.setAttribute("value",c.IDS_CANCEL,0);b.setAttribute("title",c.IDS_CANCEL+c.IDS_BUTTON,0);b.setAttribute("tabindex",e+3,0);b.onclick=function(){f.onCancel()};b=document.getElementById("m-us-new-password-cls-img-btn");b.setAttribute("tabindex",e+4,0);b.onclick=function(){f.onCancel()};return document.getElementById("m-us-div-new-password")}()};return function(f){var h=a.uiLayerLevel,g=a.uiUtil().getOverlay(h),d=m({type:f.type,args:f.args,onConfirm:f.onConfirm,onCancel:f.onCancel});d.style.zIndex=h+1;a.ESVS.TargetObj.insertBefore(g,a.ESVS.TargetObj.firstChild);var e=window.onorientationchange;return{show:function(){g.style.display="block";var b=a.uiUtil().getNumSize(a.uiUtil().getStyle(d,"height","height")),b=-1===b?a.uiUtil().getScrollTop()+a.uiUtil().getViewportHeight()/6:a.uiUtil().getScrollTop()+(a.uiUtil().getViewportHeight()-b)/3;d.style.top=0>b?"0px":b+"px";d.style.left=a.uiUtil().getScrollLeft()+(a.uiUtil().getViewportWidth()-a.uiUtil().getNumSize(a.uiUtil().getStyle(d,"width","width")))/2+"px";d.style.display="block";var c=0,f=0,h=0,l=0;0==window.orientation||180==window.orientation?(c=a.uiUtil().getViewportWidth(),f=a.uiUtil().getViewportHeight()):(h=a.uiUtil().getViewportWidth(),l=a.uiUtil().getViewportHeight());window.addEventListener("orientationchange",function(){var b=0,k=0;"android chrome"==a.browserName||"unknown"==a.browserName?0==window.orientation||180==window.orientation?0<c?(b=c,k=f):(b=l+87,k=h-40):0<h?(b=h,k=l):(b=f+87,k=c-40):(b=a.uiUtil().getViewportWidth(),k=a.uiUtil().getViewportHeight());var g=a.uiUtil().getNumSize(a.uiUtil().getStyle(d,"width","width"));-1<g&&(b=a.uiUtil().getScrollLeft()+(b-g)/2+"px",d.style.left=b);b=a.uiUtil().getNumSize(a.uiUtil().getStyle(d,"height","height"));k=-1===b?a.uiUtil().getScrollTop()+k/6:a.uiUtil().getScrollTop()+(k-b)/3;d.style.top=k+"px";e&&e()});a.uiLayerLevel+=10;a.ESVS.TabIndex+=30;setTimeout(function(){var a=d.getElementsByTagName("input");if(0<a.length)for(var b=0;b<a.length;b++)"m-us-new-password-first-textbox"==a[b].id&&a[b].focus()},10)},hide:function(){g.style.display="none";d.style.display="none"},dispose:function(){window.addEventListener("orientationchange",function(){e&&e()});d.parentNode.removeChild(d);g.parentNode.removeChild(g);a.uiLayerLevel-=10;a.ESVS.TabIndex-=30}}}};
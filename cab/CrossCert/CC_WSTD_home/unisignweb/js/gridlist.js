var __gridlist=function(b){function A(a){this._textObj=a.textObj;this._viewlist=null;this._viewlistcnt=-1;this._selectedrow=null;this._tabidx=this._rowcnt=this._colcnt=-1;this._titleList=null;this._resizeFlag=!1;this._limittitleelementwidth=[];this._datalistwidth=this._limitdatarowwidth=this._limitdataelementwidth=this._limittitlerowwidth=0;this._arrdataelementwidth=[];this._lastonmousemoveevent=document.onmousemove;this._lastonmouseupevent=document.onmouseup;this._listtype=a.listtype;this._tblid=a.tblid;this._tbltitleid=a.tbltitleid;this._titlelistid=a.titlelistid;this._titlerowid=a.titlerowid;this._titleelementid=a.titleelementid;this._titledividerid=a.titledividerid;this._titlelistcn=a.titlelistcn;this._titlerowcn=a.titlerowcn;this._titleelementcn=a.titleelementcn;this._titledividercn=a.titledividercn;this._tblbodyid=a.tblbodyid;this._datalistid=a.datalistid;this._datarowid=a.datarowid;this._dataelementid=a.dataelementid;this._datalistcn=a.datalistcn;this._datarowcn=a.datarowcn;this._dataelementcn=a.dataelementcn;this._dataselectcn=a.dataselectcn}A.prototype={setViewList:function(a){this._viewlist=a},getViewList:function(){return this._viewlist},setViewListCnt:function(a){this._viewlistcnt=a},getViewListCnt:function(){return this._viewlistcnt},setRowCnt:function(a){this._rowcnt=a},getRowCnt:function(){return this._rowcnt},setColCnt:function(a){this._colcnt=a},getColCnt:function(){return this._colcnt},setTabIdx:function(a){this._tabidx=a},getTabIdx:function(){return this._tabidx},setDataListWidth:function(a){this._datalistwidth=a},getDataListWidth:function(){return this._datalistwidth},setDataRowWidth:function(a){this._datarowwidth=a},getDataRowWidth:function(){return this._datarowwidth},setDataElementWidth:function(a,b){this._arrdataelementwidth[a]=b},getDataElementWidth:function(a){return this._arrdataelementwidth[a]},getLimitTitleRowWidth:function(){return this._limittitlerowwidth},getLimitTitleElementWidth:function(a){return this._limittitleelementwidth[a-1]},getLimitDataRowWidth:function(){return this._limitdatarowwidth},getLimitDataElementWidth:function(){return this._limitdataelementwidth},getResizeFlag:function(){return this._resizeFlag},getLastOnMouseMoveEvent:function(){return this._lastonmousemoveevent},getLastOnMouseUpEvent:function(){return this._lastonmouseupevent},getListTypeID:function(){return this._listtype},getTitleListID:function(){return this._titlelistid},getTitleRowID:function(){return this._titlerowid},getTitleElementID:function(){return this._titleelementid},getDividerID:function(){return this._titledividerid},getDataListID:function(){return this._datalistid},getDataRowID:function(){return this._datarowid},getDataElementID:function(){return this._dataelementid},getSelectedRow:function(){return this._selectedrow},focusOnRow:function(a){if(!a)return!1;var k=a.childNodes.length,e=-1;if(this._selectedrow){for(var e=this._selectedrow.getAttribute("tabindex"),c=0;c<k;c++)"certslist"==this.getListTypeID()?this._selectedrow.childNodes[c].className=this._dataelementcn+" grid-element"+(c+1):this._selectedrow.childNodes[c].className=this._dataelementcn;this._selectedrow.setAttribute("aria-selected","false",0);this._selectedrow.removeAttribute("tabindex")}for(c=0;c<k;c++)"certslist"==this.getListTypeID()?a.childNodes[c].className=this._dataselectcn+" grid-element"+(c+1):a.childNodes[c].className=this._dataselectcn;a.setAttribute("aria-selected","true",0);-1<e&&(a.setAttribute("tabindex",e,0),setTimeout(function(){a.focus()},10));this._selectedrow=a;if("certslist"==this._listtype&&null!=document.getElementById("us-div-cert-manage-detail")&&"none"!=document.getElementById("us-div-cert-manage-detail").style.display){if("undefined"==this.getSelectedIndex())return;k=this.getSelectedIndex();b.certsList&&b.certsList.list&&null!=b.certsList.list[k-1]&&null!=b.certsList.list[k-1].cert&&(b.usWebToolkit.x509Certificate.parser(b.certsList.list[k-1].cert,"Base64"),document.getElementById("us-layout-cert-manage-detail-box-subject").innerHTML="<b>"+b.certUtil().getCN(b.usWebToolkit.x509Certificate.getSubjectName())+"</b>",document.getElementById("us-layout-cert-manage-detail-box-expire-data").innerHTML=b.certUtil().getLocalDate(b.usWebToolkit.x509Certificate.getNotBefore())+" ~ "+b.certUtil().getLocalDate(b.usWebToolkit.x509Certificate.getNotAfter()),b.certsList.list[k-1].path&&(document.getElementById("us-layout-cert-manage-detail-box-savepath-data").innerHTML=b.certsList.list[k-1].path))}return!0},getRowForFocusing:function(a,b){if(!a||!b)return null;var e=a||window.event,c=e.which||e.keyCode,e=parseInt(b.parentNode.childNodes.length);if(13==c)return c=b.id.split(this._datarowid),c=parseInt(c[1])-1,e=this._datarowid+(c+1),e=document.getElementById(e);if(38===c){if(c=b.id.split(this._datarowid),c=parseInt(c[1])-1,!(0>=c))return e=this._datarowid+c,e=document.getElementById(e)}else if(40===c&&(c=b.id.split(this._datarowid),c=parseInt(c[1])-1,!(c>=e-1||c>=this._viewlistcnt-1)))return e=this._datarowid+(c+2),e=document.getElementById(e);return null},getSelectedIndex:function(){if(!this._selectedrow)return-1;var a=this._selectedrow.childNodes.length;return a=this._selectedrow.childNodes[a-1].firstChild.nodeValue},drawListTitle:function(a,k,e){if(!a||0>=k)return!1;this._titleList=a;this._colcnt=k;this._resizeFlag=e;e=document.createElement("DIV");e.setAttribute("id",this._titlelistid,0);e.className=this._titlelistcn;document.getElementById(this._tbltitleid).appendChild(e);k=document.createElement("DIV");k.setAttribute("id",this._titlerowid,0);k.className=this._titlerowcn;e.appendChild(k);e=b.uiUtil().getNumSize(b.uiUtil().getStyle(e,"width","width"));for(var c=e/this._colcnt,t=b.uiUtil().getNumSize(b.uiUtil().getStyle(k,"height","height")),p=0,d=0;d<this._colcnt;d++){var f=document.createElement("DIV");f.setAttribute("id",this._titleelementid+(d+1),0);k.appendChild(f);"certslist"==this.getListTypeID()?(f.className="grid-element"+(d+1),p=b.uiUtil().getNumSize(b.uiUtil().getStyle(f,"width","width")),f.className=this._titleelementcn+" grid-element"+(d+1)):f.className=this._titleelementcn;f.appendChild(document.createTextNode(a[d].title));var h=b.uiUtil().getNumSize(b.uiUtil().getStyle(f,"paddingLeft","padding-left")),n=b.uiUtil().getNumSize(b.uiUtil().getStyle(f,"paddingRight","padding-right")),m=b.uiUtil().getNumSize(b.uiUtil().getStyle(f,"paddingTop","padding-top")),r=b.uiUtil().getNumSize(b.uiUtil().getStyle(f,"paddingBottom","padding-bottom")),m=t-(m+r),r=c-(h+n),w=0;0<p&&(w=p-(h+n));"detailslist"==this._listtype&&(r=0===d?r-r/2+10:r+r/2-10);h=0;this._resizeFlag&&(h=document.createElement("DIV"),h.setAttribute("id",this._titledividerid+(d+1),0),h.className=this._titledividercn,h.style.height=m+"px",h.style.cursor="e-resize",k.appendChild(h),h=b.uiUtil().getNumSize(b.uiUtil().getStyle(h,"width","width")),r-=h,150<p&&(p=150),this._limittitleelementwidth[d]=p);f.style.width=0<w?w-h+"px":r+"px";f.style.height=m+"px"}this._resizeFlag&&(this._limittitlerowwidth=e);return!0},drawListBody:function(a,k){this._viewlist=a;this._viewlistcnt=k;var e=document.createElement("DIV");e.setAttribute("id",this._datalistid,0);e.className=this._datalistcn;document.getElementById(this._tblbodyid).appendChild(e);this._rowcnt=this._viewlistcnt;for(var c=b.uiUtil().getNumSize(b.uiUtil().getStyle(e,"width","width")),t=c/this._colcnt,p=0,d=0;d<this._rowcnt;d++){var f=document.createElement("DIV");f.setAttribute("id",this._datarowid+(d+1),0);f.className=this._datarowcn;f.setAttribute("aria-selected","false",0);e.appendChild(f);if("chrome"==b.browserName||"safari"==b.browserName){var h=b.uiUtil().getNumSize(b.uiUtil().getStyle(f,"width","width"));c<h&&(c=h,t=c/this._colcnt)}for(var h=b.uiUtil().getNumSize(b.uiUtil().getStyle(f,"height","height")),n=0;n<this._colcnt;n++){var m=document.createElement("DIV");m.setAttribute("title",this._titleList[n].title);m.setAttribute("id",this._dataelementid+(d+1)+"-"+(n+1),0);f.appendChild(m);"certslist"==this.getListTypeID()?(m.className="grid-element"+(n+1),p=b.uiUtil().getNumSize(b.uiUtil().getStyle(m,"width","width")),m.className=this._dataelementcn+" grid-element"+(n+1)):m.className=this._dataelementcn;var r=b.uiUtil().getNumSize(b.uiUtil().getStyle(m,"paddingLeft","padding-left")),w=b.uiUtil().getNumSize(b.uiUtil().getStyle(m,"paddingRight","padding-right")),z=b.uiUtil().getNumSize(b.uiUtil().getStyle(m,"paddingTop","padding-top")),g=b.uiUtil().getNumSize(b.uiUtil().getStyle(m,"paddingBottom","padding-bottom")),z=h-(z+g),g=t-(r+w),l=0;0<p&&(l=p-(r+w));"detailslist"==this._listtype&&(g=0===n?g-g/2+10:g+g/2-10);this._resizeFlag?(this._arrdataelementwidth[n]?this._limitdataelementwidth=g:this._arrdataelementwidth[n]=0<l?l:g,m.style.width=this._arrdataelementwidth[n]+"px"):m.style.width=0<l?l+"px":g+"px";m.style.height=z+"px"}this._resizeFlag&&(0<this._datarowwidth?f.style.width=this._datarowwidth+"px":this._limitdatarowwidth=c);0===d&&f.setAttribute("tabindex",this._tabidx,0)}this._resizeFlag&&0<this._datalistwidth&&(e.style.width=this._datalistwidth+"px");b.uiUtil().loadingBox(!1,"us-div-list-load");return!0},listClear:function(){var a=document.getElementById(this._tblbodyid),b=document.getElementById(this._datalistid);this._viewlist=this._selectedrow=null;this._viewlistcnt=-1;if(a&&b)a.removeChild(b);else return!1;return!0}};return function(a){function k(){var b=a.textboxid,c=d.getSelectedRow();if(!c||!b)return!1;b=document.getElementById(b);if(!b)return!1;b.value=c.childNodes[1].lastChild.nodeValue;return!0}function e(d,c){var m=document.createElement("IMG"),e="";if(0===c)m.setAttribute("src",b.ESVS.SRCPath+"unisignweb/rsrc/img/cert_valid_small.png",0),e=a.textObj.IDS_CERT_GRID_VALID;else if(1===c)m.setAttribute("src",b.ESVS.SRCPath+"unisignweb/rsrc/img/cert_valid_1_month_small.png",0),e=a.textObj.IDS_CERT_GRID_MONTH_EXPIER;else if(2===c)m.setAttribute("src",b.ESVS.SRCPath+"unisignweb/rsrc/img/cert_invalid_small.png",0),e=a.textObj.IDS_CERT_GRID_INVALID;else return;m.setAttribute("alt",e,0);m.setAttribute("align","middle",0);d.insertBefore(m,d.lastChild);return e}function c(a){var d=document.createElement("IMG");d.setAttribute("src",b.ESVS.SRCPath+"unisignweb/rsrc/img/cert_list_check.png",0);d.setAttribute("align","middle",0);a.appendChild(d)}function t(){for(var a=d.getViewList(),n=d.getSelectedRow(),m=d.getColCnt(),r=d.getViewListCnt(),w=d.getDataRowID(),z=d.getDataElementID(),g=0;g<r;g++){var l=document.getElementById(w+(g+1)),s;for(s=0;s<m;s++){var q=document.getElementById(z+(g+1)+"-"+(s+1));if("detailslist"==f||"driverslist"==f)q.appendChild(document.createTextNode(a[g][s]));else{var p=document.createElement("span");p.appendChild(document.createTextNode(q.getAttribute("title")));q.appendChild(p);q.appendChild(document.createTextNode(a[g][s]));0===s&&e(q,a[g][6]);4===s&&"certslist"==f&&c(q)}q.removeAttribute("title")}"detailslist"==f?(l.onclick=function(){d.focusOnRow(this);k()},l.onkeydown=function(a){a=d.getRowForFocusing(a?a:event,this);d.focusOnRow(a);k()}):(l.onclick=function(){d.focusOnRow(this)},l.onkeydown=function(a){a=d.getRowForFocusing(a?a:event,this);d.focusOnRow(a)},q=document.createElement("DIV"),q.setAttribute("id",z+(g+1)+"-"+(s+1),0),q.style.display="none",q.appendChild(document.createTextNode(a[g][s])),l.appendChild(q),"certslist"==f&&(l.ondblclick=function(){d.focusOnRow(this);var a=this,c=d.getSelectedIndex(),e=b.loadUI("certview")({type:null,args:{type:"Base64",idx:c,cert:b.certsList.list[c-1].cert},onConfirm:function(){e.dispose();a.focus()},onCancel:function(){e.dispose();a.focus()}});e.show();b.uiUtil().loadingBox(!1,"us-div-list-load")}));l.style.cursor="pointer";0!==g||n||("detailslist"==f?(d.focusOnRow(l),k()):d.focusOnRow(l))}}function p(){for(var a=d.getColCnt(),c=d.getDividerID(),e=!1,f=0,k=0,p=null,g=null,l=null,s=null,q=null,t=null,C=null,D=null,B=0,A=0,G=0,H=0,E=0,F=0,x=0,y=0;y<a;y++)document.getElementById(c+(y+1)).onmousedown=function(a){f=(a?a:event).clientX;e=!0;l=d.getTitleElementID();s=d.getDataElementID();q=d.getTitleRowID();t=d.getDataRowID();C=d.getTitleListID();D=d.getDataListID();c=d.getDividerID();x=parseInt(this.id.replace(c,""));p=l+x;g=s+"1-"+x;B=b.uiUtil().getNumSize(b.uiUtil().getStyle(document.getElementById(p),"width","width"));G=b.uiUtil().getNumSize(b.uiUtil().getStyle(document.getElementById(q),"width","width"));E=b.uiUtil().getNumSize(b.uiUtil().getStyle(document.getElementById(C),"width","width"));A=b.uiUtil().getNumSize(b.uiUtil().getStyle(document.getElementById(g),"width","width"));H=b.uiUtil().getNumSize(b.uiUtil().getStyle(document.getElementById(t+"1"),"width","width"));F=b.uiUtil().getNumSize(b.uiUtil().getStyle(document.getElementById(D),"width","width"))};document.onmousemove=function(a){if(e){k=(a?a:event).clientX;var c=0,h=0,n=0,g=0,l=0,u=0,l=k-f,u=0;a=p.split("element")[p.split("element").length-1];g=d.getLimitTitleRowWidth();h=d.getLimitTitleElementWidth(a);a=d.getLimitDataRowWidth();var v=d.getLimitDataElementWidth();B<h&&(h=B);for(var c=document.getElementById(s+"1-"+x),n=document.getElementById(q).childNodes,y=v=0;y<n.length;y++){var I=b.uiUtil().getNumSize(n[y].style.width);0<I&&(v+=I)}E=F=v;n=b.uiUtil().getNumSize(b.uiUtil().getStyle(c,"paddingLeft","padding-left"));c=b.uiUtil().getNumSize(b.uiUtil().getStyle(c,"paddingRight","padding-right"));v=h-n-c;5!=x&&(v+=1);c=B+l;h>c&&(u=h-c,c=h);h=G+l+u;g>h&&(h=g);n=E;g>n&&(n=g);g=A+l;v>g&&(u=v-g,g=v);l=H+l+u;a>l&&(l=a);u=F;a>u&&(u=a);document.getElementById(q).style.width=h+"px";document.getElementById(C).style.width=n+"px";document.getElementById(p).style.width=c+"px";a=d.getRowCnt();for(h=0;h<a;h++)document.getElementById(t+(h+1)).style.width=l+"px",document.getElementById(s+(h+1)+"-"+x).style.width=g+"px";document.getElementById(D).style.width=u+"px";d.setDataElementWidth(x-1,g);d.setDataRowWidth(l);d.setDataListWidth(u)}};document.onmouseup=function(a){e=!1}}var d=new A({listtype:a.type,tblid:a.tblid,tbltitleid:a.tbltitleid,titlelistid:a.titlelistid,titlerowid:a.titlerowid,titleelementid:a.titleelementid,titledividerid:a.titledividerid,titlelistcn:a.titlelistcn,titlerowcn:a.titlerowcn,titleelementcn:a.titleelementcn,titledividercn:a.titledividercn,tblbodyid:a.tblbodyid,datalistid:a.datalistid,datarowid:a.datarowid,dataelementid:a.dataelementid,datalistcn:a.datalistcn,datarowcn:a.datarowcn,dataelementcn:a.dataelementcn,dataselectcn:a.dataselectcn}),f=d.getListTypeID();return{drawList:function(a,b,c,e,f,k){if(!a||0>=b||0>f)return!1;0<=f&&d.setTabIdx(f);d.drawListTitle(a,b,k);if(0>=e)d.drawListBody(null,-1);else if(0<e&&c)d.drawListBody(c,e),t();else return!1;k&&p();return!0},drawTitle:function(a,b,c){if(!a||0>=b||0>c)return!1;0<=c&&d.setTabIdx(c);d.drawListTitle(a,b);return!0},redrawList:function(a,b){d.listClear();if(0>=b)d.drawListBody(null,-1);else if(0<b&&a)d.drawListBody(a,b),t();else return!1;return!0},clearList:function(){d.listClear();return!0},restoreOnMouseEvent:function(){d.getResizeFlag()&&(document.onmousemove=d.getLastOnMouseMoveEvent(),document.onmouseup=d.getLastOnMouseUpEvent());return!0},selectedIndex:function(){return d.getSelectedIndex()}}}};
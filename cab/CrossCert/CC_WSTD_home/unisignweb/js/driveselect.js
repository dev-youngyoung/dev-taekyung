var __driveselect=function(a){var t=function(f){function p(a){if(!a)return alert("UI load error."),!1;var c=document.createElement("div");document.body.insertBefore(c,document.body.firstChild);c.innerHTML=a;return!0}var m=function(){var b;b=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0");b.open("GET",a.ESVS.SRCPath+"unisignweb/rsrc/layout/driveselect.html?V="+a.ver,!1);b.send(null);return b.responseText},l=function(){var b;b=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0");b.open("GET",a.ESVS.SRCPath+"unisignweb/rsrc/lang/driveselect_"+a.ESVS.Language+".js?V="+a.ver,!1);b.send(null);return b.responseText},e=a.ESVS.TabIndex;return function(){var b=eval(m),c=eval(eval(l)()),q=f.type,h=f.args.list,g=f.args.list.length;p(b());var b=document.getElementById("us-drive-select-lbl-title"),d=document.getElementById("us-drive-select-disk-img"),k=document.getElementById("us-drive-select-disk-name"),r=document.getElementById("us-drive-select-disk-lbl"),s=document.getElementById("us-drive-select-disk-span"),n=document.getElementById("us-drive-select-disk-select");document.getElementById("us-drive-select-cls-btn-img").setAttribute("src",a.ESVS.SRCPath+"unisignweb/rsrc/img/x-btn.png",0);if("DEVICE_REMOVABLE_DISK"===q){if(b.appendChild(document.createTextNode(c.IDS_DRIVE_SELECTION)),b.setAttribute("tabindex",e,0),d.setAttribute("src",a.ESVS.SRCPath+"unisignweb/rsrc/img/media_removable.png",0),k.appendChild(document.createTextNode(c.IDS_DRIVE_REMOVABLE)),s.appendChild(document.createTextNode(c.IDS_SAVE_TOKEN_CHOOSE_SAVE_TOKEN)),r.appendChild(document.createTextNode(c.IDS_DRIVE_SELECTION_CHOOSE_DISK)),n.setAttribute("tabindex",e+1,0),0<g)for(d=0;d<g;d++)k=document.createElement("option"),k.setAttribute("value",h[d].index,0),k.appendChild(document.createTextNode(h[d].name)),n.appendChild(k)}else if("DEVICE_SAVE_TOKEN"===q&&(b.appendChild(document.createTextNode(c.IDS_SAVE_TOKEN_SELECTION)),b.setAttribute("tabindex",e,0),d.setAttribute("src",a.ESVS.SRCPath+"unisignweb/rsrc/img/media_savetoken.png",0),k.appendChild(document.createTextNode(c.IDS_SAVE_TOKEN)),s.appendChild(document.createTextNode(c.IDS_SAVE_TOKEN_CHOOSE_SAVE_TOKEN)),r.appendChild(document.createTextNode(c.IDS_SAVE_TOKEN_CHOOSE_SAVE_TOKEN)),n.setAttribute("tabindex",e+1,0),0<g))for(d=0;d<g;d++)k=document.createElement("option"),k.setAttribute("value",h[d].index,0),k.appendChild(document.createTextNode(h[d].name)),n.appendChild(k);h=document.getElementById("us-drive-select-confirm-btn");h.setAttribute("value",c.IDS_CONFIRM,0);h.setAttribute("title",c.IDS_CONFIRM,0);h.setAttribute("tabindex",e+2,0);h.onclick=function(){var a=document.getElementById("us-drive-select-disk-select"),a=parseInt(a.selectedIndex)+1;f.onConfirm(a)};g=document.getElementById("us-drive-select-cancel-btn");g.setAttribute("value",c.IDS_CANCEL,0);g.setAttribute("title",c.IDS_CANCEL,0);g.setAttribute("tabindex",e+3,0);g.onclick=function(){f.onCancel()};d=document.getElementById("us-drive-select-cls-img-btn");"DEVICE_REMOVABLE_DISK"===q?d.setAttribute("title",c.IDS_DRIVE_SELECTION_CLOSE,0):"DEVICE_SAVE_TOKEN"===q&&d.setAttribute("title",c.IDS_SAVE_TOKEN_CLOSE,0);d.setAttribute("tabindex",e+4,0);d.onclick=function(){f.onCancel()};a.uiUtil().setRotationTabFocus(g,h,b);a.uiUtil().setRotationTabFocus(b,g,n);return document.getElementById("us-div-drive-select")}()};return function(f){var p=a.uiLayerLevel,m=a.uiUtil().getOverlay(p),l=t({type:f.type,args:f.args,onConfirm:f.onConfirm,onCancel:f.onCancel});l.style.zIndex=p+1;a.ESVS.TargetObj.insertBefore(m,a.ESVS.TargetObj.firstChild);var e=window.onresize;return{show:function(){draggable(l,document.getElementById("us-div-drive-select-title"));m.style.display="block";a.uiUtil().offsetResize(l);window.onresize=function(){a.uiUtil().offsetResize(l);e&&e()};a.uiLayerLevel+=10;a.ESVS.TabIndex+=30;setTimeout(function(){a.uiUtil().setFirstFocus("us-drive-select-lbl-title")},10)},hide:function(){m.style.display="none";l.style.display="none"},dispose:function(){window.onresize=function(){e&&e()};l.parentNode.parentNode.removeChild(l.parentNode);m.parentNode.removeChild(m);a.uiLayerLevel-=10;a.ESVS.TabIndex-=30}}}};